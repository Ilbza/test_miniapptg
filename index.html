<!DOCTYPE html>
<html lang=\"ru\">
<head>
  <meta charset=\"UTF-8\">
  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">
  <title>Тест проверки знаний</title>
  <script src=\"https://telegram.org/js/telegram-web-app.js\"></script>
  <style>
    body {font-family: Arial, sans-serif;padding:20px;background:#f3e8ff;}
    button {padding: 10px; margin:10px 0;cursor:pointer;}
    input {padding: 8px; margin:5px 0;width: 90%;}
    .result {font-weight:bold;}
    img.logo {width:150px;margin-bottom:15px;}
  </style>
</head>
<body>

<div id=\"form\">
  <img src=\"logo.png\" alt=\"Логотип\" class=\"logo\">
  <h3>Оставьте заявку</h3>
  <input placeholder=\"Ваше имя\" required><br>
  <input placeholder=\"Телефон\" required><br>
  <input placeholder=\"Email\" required><br>
  <input placeholder=\"Класс\" required><br>
  <button onclick=\"startTest()\">Отправить заявку</button>
</div>

<div id=\"test\" style=\"display:none;\">
  <h3 id=\"question\">Вопрос</h3>
  <div id=\"answers\"></div>
  <div id=\"solution\" style=\"display:none;background:#e8d8ff;padding:10px;margin:10px 0;\"></div>
</div>

<div id=\"final\" style=\"display:none;\">
  <h3>Ваш результат: <span id=\"score\"></span>/6</h3>
  <a href=\"https://t.me/umschoolone\" target=\"_blank\"><button>Перейти в Telegram канал</button></a>
</div>

<script>
let tg = window.Telegram.WebApp;
tg.expand();

const questions = [
{ q:\"Сколько Н пишется в слове СОЛНЕЧ..ЫЙ?\",a:[\"1 Н\",\"2 НН\"],correct:0,sol:\"Солнечный — от слова СОЛНЦЕ, пишем одну Н.\"},
{ q:\"Сколько Н пишется в слове ТУМА..ЫЙ?\",a:[\"1 Н\",\"2 НН\"],correct:1,sol:\"Туманный — от слова ТУМАН (основа на -Н), пишем НН.\"},
{ q:\"Сколько Н пишется в слове РУМЯ..ЫЙ?\",a:[\"1 Н\",\"2 НН\"],correct:0,sol:\"Румяный — исключение, пишем с одной Н.\"},
{ q:\"Во всех ли словах одна буква: о..бить, на..ломиться, на..писать?\",a:[\"Да\",\"Нет\"],correct:1,sol:\"отбить — ОТ-, надломить — НАД-, надписать — НАД-.\"},
{ q:\"Во всех ли словах одна буква: з..бить, от..двинуть, д..рисовать?\",a:[\"Да\",\"Нет\"],correct:1,sol:\"забить — ЗА-, отодвинуть — ОТО-, дорисовать — ДО-.\"},
{ q:\"Во всех ли словах одна буква: з..красить, н..стигнуть, пр..язык?\",a:[\"Да\",\"Нет\"],correct:1,sol:\"закрасить — ЗА-, настигнуть — НА-, праязык — ПРА-.\"}
];

let current=0,score=0;

function startTest(){
  document.getElementById(\"form\").style.display=\"none\";
  document.getElementById(\"test\").style.display=\"block\";
  showQuestion();
}

function showQuestion(){
  let q = questions[current];
  document.getElementById(\"question\").innerHTML = q.q;
  document.getElementById(\"answers\").innerHTML = \"\";
  document.getElementById(\"solution\").style.display=\"none\";

  q.a.forEach((answer,i)=>{
    let btn = document.createElement(\"button\");
    btn.innerHTML = answer;
    btn.onclick = ()=>answerQuestion(i);
    document.getElementById(\"answers\").appendChild(btn);
  });
}

function answerQuestion(i){
  let correct = questions[current].correct;
  if(i===correct)score++;

  document.getElementById(\"solution\").innerHTML = questions[current].sol;
  document.getElementById(\"solution\").style.display=\"block\";
  
  current++;

  setTimeout(()=>{
    if(current<questions.length){
      showQuestion();
    }else{
      finishTest();
    }
  },3000);
}

function finishTest(){
  document.getElementById(\"test\").style.display=\"none\";
  document.getElementById(\"final\").style.display=\"block\";
  document.getElementById(\"score\").innerText=score;
}
</script>

</body>
</html>
